<form 
  *ngIf="doc$ | async"
  [formGroup]="editForm" 
  (ngSubmit)="onSubmit(editForm)">
  <div>
    <label>
      Name:
      <input id="name" formControlName="name" placeholder="Document name">
    </label>
    <div *ngIf="editForm.get('name')?.invalid && (editForm.get('name')?.dirty || editForm.get('name')?.touched)" class="error-field">
      <p class="error">Please provide a name.</p> 
    </div>
  </div>
  <div>
    <label>
      Version:
      <input id="version" formControlName="version" placeholder="Doc version" readonly>
    </label>
    <div *ngIf="editForm.get('version')?.invalid && (editForm.get('version')?.dirty || editForm.get('version')?.touched)">
      <p class="error">Please provide a version.</p> 
    </div>
  </div>
  <div>
    <label>
      Author:
      <input id="author" formControlName="author" placeholder="Doc author">
    </label>
    <div *ngIf="editForm.get('author')?.invalid && (editForm.get('author')?.dirty || editForm.get('author')?.touched)">
      <p class="error">Please provide an author.</p> 
    </div>
  </div>
  <div>
    <label>Category:</label>
    <select
          class="custom-select mb-3"
          formControlName="categoryName"
        >
          <!-- <option  value="">Choose Category</option> -->
          <option *ngFor="let category of Categories"
          [selected]="category.name == '{{(doc$ | async)?.categoryName}}'">
            {{category.name}}
          </option>
        </select>
  </div>
  <div>
    <label>Subcategory:</label>
    <select
          class="custom-select mb-3"
          formControlName="subcategoryName"
        >
          <!-- <option  value="">Choose Category</option> -->
          <option *ngFor="let subcategory of Subcategories"
          [selected]="subcategory.name == '{{(doc$ | async)?.subcategoryName}}'">
            {{subcategory.name}}
          </option>
        </select>
  </div>
  <div>
    <label>
      Text:    
    </label>
    <div>
      <textarea  id="text" formControlName="text" placeholder="Doc text" rows="15" cols="50"></textarea>
    </div>
      
    <div *ngIf="editForm.get('text')?.invalid && (editForm.get('text')?.dirty || editForm.get('text')?.touched)">
      <p class="error">Please provide a text.</p> 
    </div>
  </div>
  <button [disabled]="!editForm.valid">Save document</button>
</form>

<ng-template #loading>
  Loading User...
</ng-template>

<hr style="background-color: green; height: 15px;">
<div  *ngIf="doc$ | async">
  <p>{{(doc$ | async)?.categoryName}}</p>
</div>